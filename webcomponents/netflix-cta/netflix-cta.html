<template id="netflix-cta">
  <style>
    :host {
      font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif;
      font-weight: normal;
      width: 100%;
      color: var(--netflix-color-primary, #fff);
      font-size: 1.85vw;
    }
  </style>
  <h1></h1>
</template>

<script>
  (() => {
    let tmpl = document.currentScript.ownerDocument.querySelector('#netflix-cta');

    window.customElements.define('netflix-cta', class extends HTMLElement {
      constructor() {
        super();

        // Attach a shadow root to the element.
        let shadowRoot = this.attachShadow({mode: 'open'});
        shadowRoot.appendChild(tmpl.content.cloneNode(true));

        // doesn't work in Angular otherwise... not sure why
        setTimeout(()=> {
          shadowRoot.querySelector('h1').textContent = this.text;
        }, 1);
      }

      get text() {
        return this.getAttribute('text');
      }

      set text(newText) {
        this.setAttribute('text', newText);
      }
    });
  })()
</script>