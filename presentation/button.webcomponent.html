<template id="app-button">
  <style>
    button {
      padding: .5rem 1.5rem;
      display: inline-block;
      border: 3px solid #00698f;
      background-color: #00698f;
    }
  </style>
  <button></button>
</template>

<script>
  (() => {
    let tmpl = document.currentScript.ownerDocument.querySelector('#app-button');

    window.customElements.define('app-button', class extends HTMLElement {
      get text() {
        return this.getAttribute('text');
      }

      set text(newText) {
        this.setAttribute('text', newText);
      }

      constructor() {
        super();
        let shadowRoot = this.attachShadow({mode: 'open'});
        shadowRoot.appendChild(tmpl.content.cloneNode(true));
        shadowRoot.querySelector('h1').textContent = this.text;
      }
    });
  })()
</script>